<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libsocketcan: External API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libsocketcan
   &#160;<span id="projectnumber">v0.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__extern.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">External API</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0df08d0fdd25560a7c66923e48acda55"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga0df08d0fdd25560a7c66923e48acda55">can_do_start</a> (const char *name)</td></tr>
<tr class="memdesc:ga0df08d0fdd25560a7c66923e48acda55"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_do_start - start the can interface  <a href="#ga0df08d0fdd25560a7c66923e48acda55">More...</a><br/></td></tr>
<tr class="separator:ga0df08d0fdd25560a7c66923e48acda55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaafc9e9c2de21099a446fc32e91c615c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gaaafc9e9c2de21099a446fc32e91c615c">can_do_stop</a> (const char *name)</td></tr>
<tr class="memdesc:gaaafc9e9c2de21099a446fc32e91c615c"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_do_stop - stop the can interface  <a href="#gaaafc9e9c2de21099a446fc32e91c615c">More...</a><br/></td></tr>
<tr class="separator:gaaafc9e9c2de21099a446fc32e91c615c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdaa257a1dce981110d540b52e025b2d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gacdaa257a1dce981110d540b52e025b2d">can_do_restart</a> (const char *name)</td></tr>
<tr class="memdesc:gacdaa257a1dce981110d540b52e025b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_do_restart - restart the can interface  <a href="#gacdaa257a1dce981110d540b52e025b2d">More...</a><br/></td></tr>
<tr class="separator:gacdaa257a1dce981110d540b52e025b2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa709a2e81582dbc7bbc3f35b5c9bb05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gaaa709a2e81582dbc7bbc3f35b5c9bb05">can_set_restart_ms</a> (const char *name, __u32 restart_ms)</td></tr>
<tr class="memdesc:gaaa709a2e81582dbc7bbc3f35b5c9bb05"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_set_restart_ms - set interval of auto restart.  <a href="#gaaa709a2e81582dbc7bbc3f35b5c9bb05">More...</a><br/></td></tr>
<tr class="separator:gaaa709a2e81582dbc7bbc3f35b5c9bb05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae089ba74196f286b625652c58673029d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gae089ba74196f286b625652c58673029d">can_set_ctrlmode</a> (const char *name, struct <a class="el" href="structcan__ctrlmode.html">can_ctrlmode</a> *cm)</td></tr>
<tr class="memdesc:gae089ba74196f286b625652c58673029d"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_set_ctrlmode - setup the control mode.  <a href="#gae089ba74196f286b625652c58673029d">More...</a><br/></td></tr>
<tr class="separator:gae089ba74196f286b625652c58673029d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa01e52bcb6f4b873da7ce32cab38332d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gaa01e52bcb6f4b873da7ce32cab38332d">can_set_bittiming</a> (const char *name, struct <a class="el" href="structcan__bittiming.html">can_bittiming</a> *bt)</td></tr>
<tr class="memdesc:gaa01e52bcb6f4b873da7ce32cab38332d"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_set_bittiming - setup the bittiming.  <a href="#gaa01e52bcb6f4b873da7ce32cab38332d">More...</a><br/></td></tr>
<tr class="separator:gaa01e52bcb6f4b873da7ce32cab38332d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf69a4a0d7424e5a61d60991295f50559"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gaf69a4a0d7424e5a61d60991295f50559">can_set_bitrate</a> (const char *name, __u32 bitrate)</td></tr>
<tr class="memdesc:gaf69a4a0d7424e5a61d60991295f50559"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_set_bitrate - setup the bitrate.  <a href="#gaf69a4a0d7424e5a61d60991295f50559">More...</a><br/></td></tr>
<tr class="separator:gaf69a4a0d7424e5a61d60991295f50559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b9e6fbcb49ce3a95c83da86b3252049"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga0b9e6fbcb49ce3a95c83da86b3252049">can_set_bitrate_samplepoint</a> (const char *name, __u32 bitrate, __u32 sample_point)</td></tr>
<tr class="memdesc:ga0b9e6fbcb49ce3a95c83da86b3252049"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_set_bitrate_samplepoint - setup the bitrate.  <a href="#ga0b9e6fbcb49ce3a95c83da86b3252049">More...</a><br/></td></tr>
<tr class="separator:ga0b9e6fbcb49ce3a95c83da86b3252049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32407a51b0e639077518a2c2ee08e0e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga32407a51b0e639077518a2c2ee08e0e3">can_get_state</a> (const char *name, int *state)</td></tr>
<tr class="memdesc:ga32407a51b0e639077518a2c2ee08e0e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_state - get the current state of the device  <a href="#ga32407a51b0e639077518a2c2ee08e0e3">More...</a><br/></td></tr>
<tr class="separator:ga32407a51b0e639077518a2c2ee08e0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ed762854eef663c3d5290aa65765db0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga0ed762854eef663c3d5290aa65765db0">can_get_restart_ms</a> (const char *name, __u32 *restart_ms)</td></tr>
<tr class="memdesc:ga0ed762854eef663c3d5290aa65765db0"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_restart_ms - get the current interval of auto restarting.  <a href="#ga0ed762854eef663c3d5290aa65765db0">More...</a><br/></td></tr>
<tr class="separator:ga0ed762854eef663c3d5290aa65765db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17ad92ba42f74a9e5fe23e9383336e3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga17ad92ba42f74a9e5fe23e9383336e3a">can_get_bittiming</a> (const char *name, struct <a class="el" href="structcan__bittiming.html">can_bittiming</a> *bt)</td></tr>
<tr class="memdesc:ga17ad92ba42f74a9e5fe23e9383336e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_bittiming - get the current bittimnig configuration.  <a href="#ga17ad92ba42f74a9e5fe23e9383336e3a">More...</a><br/></td></tr>
<tr class="separator:ga17ad92ba42f74a9e5fe23e9383336e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2869a6e721ae43b34c85e715eb9b855"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gab2869a6e721ae43b34c85e715eb9b855">can_get_ctrlmode</a> (const char *name, struct <a class="el" href="structcan__ctrlmode.html">can_ctrlmode</a> *cm)</td></tr>
<tr class="memdesc:gab2869a6e721ae43b34c85e715eb9b855"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_ctrlmode - get the current control mode.  <a href="#gab2869a6e721ae43b34c85e715eb9b855">More...</a><br/></td></tr>
<tr class="separator:gab2869a6e721ae43b34c85e715eb9b855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga955ed24c6c2368a6700072b5e1b96303"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga955ed24c6c2368a6700072b5e1b96303">can_get_clock</a> (const char *name, struct <a class="el" href="structcan__clock.html">can_clock</a> *clock)</td></tr>
<tr class="memdesc:ga955ed24c6c2368a6700072b5e1b96303"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_clock - get the current clock struct.  <a href="#ga955ed24c6c2368a6700072b5e1b96303">More...</a><br/></td></tr>
<tr class="separator:ga955ed24c6c2368a6700072b5e1b96303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13f337fa23c8bd38f97eef7cc5e89f53"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga13f337fa23c8bd38f97eef7cc5e89f53">can_get_bittiming_const</a> (const char *name, struct <a class="el" href="structcan__bittiming__const.html">can_bittiming_const</a> *btc)</td></tr>
<tr class="memdesc:ga13f337fa23c8bd38f97eef7cc5e89f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_bittiming_const - get the current bittimnig constant.  <a href="#ga13f337fa23c8bd38f97eef7cc5e89f53">More...</a><br/></td></tr>
<tr class="separator:ga13f337fa23c8bd38f97eef7cc5e89f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaba5ef4fe39e12a80eb21986536b017a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#gaaba5ef4fe39e12a80eb21986536b017a">can_get_berr_counter</a> (const char *name, struct <a class="el" href="structcan__berr__counter.html">can_berr_counter</a> *bc)</td></tr>
<tr class="memdesc:gaaba5ef4fe39e12a80eb21986536b017a"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_berr_counter - get the tx/rx error counter.  <a href="#gaaba5ef4fe39e12a80eb21986536b017a">More...</a><br/></td></tr>
<tr class="separator:gaaba5ef4fe39e12a80eb21986536b017a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01a45a4ed6cb71e116f197da7281b776"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__extern.html#ga01a45a4ed6cb71e116f197da7281b776">can_get_device_stats</a> (const char *name, struct <a class="el" href="structcan__device__stats.html">can_device_stats</a> *cds)</td></tr>
<tr class="memdesc:ga01a45a4ed6cb71e116f197da7281b776"><td class="mdescLeft">&#160;</td><td class="mdescRight">can_get_device_stats - get the <a class="el" href="structcan__device__stats.html">can_device_stats</a>.  <a href="#ga01a45a4ed6cb71e116f197da7281b776">More...</a><br/></td></tr>
<tr class="separator:ga01a45a4ed6cb71e116f197da7281b776"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacdaa257a1dce981110d540b52e025b2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_do_restart </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_do_restart - restart the can interface </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0"</td></tr>
  </table>
  </dd>
</dl>
<p>This triggers the start mode of the can device.</p>
<p>NOTE:</p>
<ul>
<li>restart mode can only be triggerd if the device is in BUS_OFF and the auto restart not turned on (restart_ms == 0)</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__extern.html#ga0ed762854eef663c3d5290aa65765db0">can_get_restart_ms()</a>, <a class="el" href="group__extern.html#ga32407a51b0e639077518a2c2ee08e0e3">can_get_state()</a>, and <a class="el" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54">set_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gacdaa257a1dce981110d540b52e025b2d_cgraph.png" border="0" usemap="#group__extern_gacdaa257a1dce981110d540b52e025b2d_cgraph" alt=""/></div>
<map name="group__extern_gacdaa257a1dce981110d540b52e025b2d_cgraph" id="group__extern_gacdaa257a1dce981110d540b52e025b2d_cgraph">
<area shape="rect" id="node2" href="group__extern.html#ga0ed762854eef663c3d5290aa65765db0" title="can_get_restart_ms &#45; get the current interval of auto restarting. " alt="" coords="163,5,301,32"/><area shape="rect" id="node7" href="group__extern.html#ga32407a51b0e639077518a2c2ee08e0e3" title="can_get_state &#45; get the current state of the device " alt="" coords="180,56,284,83"/><area shape="rect" id="node8" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="199,107,265,133"/><area shape="rect" id="node3" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="369,31,436,57"/><area shape="rect" id="node4" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="519,81,622,108"/><area shape="rect" id="node5" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="518,31,623,57"/><area shape="rect" id="node6" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="685,31,824,57"/><area shape="rect" id="node9" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="350,132,455,159"/><area shape="rect" id="node10" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="505,132,637,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0df08d0fdd25560a7c66923e48acda55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_do_start </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_do_start - start the can interface </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0"</td></tr>
  </table>
  </dd>
</dl>
<p>This starts the can interface with the given name. It simply changes the if state of the interface to up. All initialisation works will be done in kernel. The if state can also be queried by a simple ifconfig.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54">set_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga0df08d0fdd25560a7c66923e48acda55_cgraph.png" border="0" usemap="#group__extern_ga0df08d0fdd25560a7c66923e48acda55_cgraph" alt=""/></div>
<map name="group__extern_ga0df08d0fdd25560a7c66923e48acda55_cgraph" id="group__extern_ga0df08d0fdd25560a7c66923e48acda55_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="152,31,219,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="269,5,371,32"/><area shape="rect" id="node4" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="267,56,373,83"/><area shape="rect" id="node5" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="422,56,554,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaaafc9e9c2de21099a446fc32e91c615c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_do_stop </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_do_stop - stop the can interface </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0"</td></tr>
  </table>
  </dd>
</dl>
<p>This stops the can interface with the given name. It simply changes the if state of the interface to down. Any running communication would be stopped.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54">set_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gaaafc9e9c2de21099a446fc32e91c615c_cgraph.png" border="0" usemap="#group__extern_gaaafc9e9c2de21099a446fc32e91c615c_cgraph" alt=""/></div>
<map name="group__extern_gaaafc9e9c2de21099a446fc32e91c615c_cgraph" id="group__extern_gaaafc9e9c2de21099a446fc32e91c615c_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="149,31,216,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="266,5,369,32"/><area shape="rect" id="node4" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="265,56,370,83"/><area shape="rect" id="node5" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="419,56,551,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaaba5ef4fe39e12a80eb21986536b017a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_berr_counter </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__berr__counter.html">can_berr_counter</a> *&#160;</td>
          <td class="paramname"><em>bc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_berr_counter - get the tx/rx error counter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">bc</td><td>pointer to the error counter struct..</td></tr>
  </table>
  </dd>
</dl>
<p>This one gets the current rx/tx error counter from the hardware.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structcan__berr__counter.html">can_berr_counter</a> {</div>
<div class="line">     __u16 txerr;</div>
<div class="line">     __u16 rxerr;</div>
<div class="line">     };</div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gaaba5ef4fe39e12a80eb21986536b017a_cgraph.png" border="0" usemap="#group__extern_gaaba5ef4fe39e12a80eb21986536b017a_cgraph" alt=""/></div>
<map name="group__extern_gaaba5ef4fe39e12a80eb21986536b017a_cgraph" id="group__extern_gaaba5ef4fe39e12a80eb21986536b017a_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="200,31,267,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="317,5,419,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="315,56,421,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="469,56,608,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga17ad92ba42f74a9e5fe23e9383336e3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_bittiming </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__bittiming.html">can_bittiming</a> *&#160;</td>
          <td class="paramname"><em>bt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_bittiming - get the current bittimnig configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">bt</td><td>pointer to the bittiming struct.</td></tr>
  </table>
  </dd>
</dl>
<p>This one stores the current bittiming configuration.</p>
<p>Please see can_set_bittiming for more information about bit timing.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga17ad92ba42f74a9e5fe23e9383336e3a_cgraph.png" border="0" usemap="#group__extern_ga17ad92ba42f74a9e5fe23e9383336e3a_cgraph" alt=""/></div>
<map name="group__extern_ga17ad92ba42f74a9e5fe23e9383336e3a_cgraph" id="group__extern_ga17ad92ba42f74a9e5fe23e9383336e3a_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="179,31,245,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="295,5,398,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="294,56,399,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="448,56,587,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga13f337fa23c8bd38f97eef7cc5e89f53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_bittiming_const </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__bittiming__const.html">can_bittiming_const</a> *&#160;</td>
          <td class="paramname"><em>btc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_bittiming_const - get the current bittimnig constant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">btc</td><td>pointer to the bittiming constant struct.</td></tr>
  </table>
  </dd>
</dl>
<p>This one stores the hardware dependent bittiming constant. The <a class="el" href="structcan__bittiming__const.html">can_bittiming_const</a> struct consists:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structcan__bittiming__const.html">can_bittiming_const</a> {</div>
<div class="line">     <span class="keywordtype">char</span> name[16];</div>
<div class="line">     __u32 tseg1_min;</div>
<div class="line">     __u32 tseg1_max;</div>
<div class="line">     __u32 tseg2_min;</div>
<div class="line">     __u32 tseg2_max;</div>
<div class="line">     __u32 sjw_max;</div>
<div class="line">     __u32 brp_min;</div>
<div class="line">     __u32 brp_max;</div>
<div class="line">     __u32 brp_inc;</div>
<div class="line">     };</div>
</div><!-- fragment --><p>The information in this struct is used to calculate the bus bit timing automatically.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga13f337fa23c8bd38f97eef7cc5e89f53_cgraph.png" border="0" usemap="#group__extern_ga13f337fa23c8bd38f97eef7cc5e89f53_cgraph" alt=""/></div>
<map name="group__extern_ga13f337fa23c8bd38f97eef7cc5e89f53_cgraph" id="group__extern_ga13f337fa23c8bd38f97eef7cc5e89f53_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="216,31,283,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="333,5,435,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="331,56,437,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="485,56,624,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga955ed24c6c2368a6700072b5e1b96303"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_clock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__clock.html">can_clock</a> *&#160;</td>
          <td class="paramname"><em>clock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_clock - get the current clock struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">clock</td><td>pointer to the clock struct.</td></tr>
  </table>
  </dd>
</dl>
<p>This one stores the current clock configuration. At the time of writing the <a class="el" href="structcan__clock.html">can_clock</a> struct only contains information about the clock frequecy. This information is e.g. essential while setting up the bit timing.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga955ed24c6c2368a6700072b5e1b96303_cgraph.png" border="0" usemap="#group__extern_ga955ed24c6c2368a6700072b5e1b96303_cgraph" alt=""/></div>
<map name="group__extern_ga955ed24c6c2368a6700072b5e1b96303_cgraph" id="group__extern_ga955ed24c6c2368a6700072b5e1b96303_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="160,31,227,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="277,5,379,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="275,56,381,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="429,56,568,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab2869a6e721ae43b34c85e715eb9b855"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_ctrlmode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__ctrlmode.html">can_ctrlmode</a> *&#160;</td>
          <td class="paramname"><em>cm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_ctrlmode - get the current control mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">cm</td><td>pointer to the ctrlmode struct.</td></tr>
  </table>
  </dd>
</dl>
<p>This one stores the current control mode configuration.</p>
<p>Please see can_set_ctrlmode for more information about control modes.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gab2869a6e721ae43b34c85e715eb9b855_cgraph.png" border="0" usemap="#group__extern_gab2869a6e721ae43b34c85e715eb9b855_cgraph" alt=""/></div>
<map name="group__extern_gab2869a6e721ae43b34c85e715eb9b855_cgraph" id="group__extern_gab2869a6e721ae43b34c85e715eb9b855_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="179,31,245,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="295,5,398,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="294,56,399,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="448,56,587,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga01a45a4ed6cb71e116f197da7281b776"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_device_stats </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__device__stats.html">can_device_stats</a> *&#160;</td>
          <td class="paramname"><em>cds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_device_stats - get the <a class="el" href="structcan__device__stats.html">can_device_stats</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">bc</td><td>pointer to the error counter struct..</td></tr>
  </table>
  </dd>
</dl>
<p>This one gets the current <a class="el" href="structcan__device__stats.html">can_device_stats</a>.</p>
<p>Please see struct <a class="el" href="structcan__device__stats.html">can_device_stats</a> for more information.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga01a45a4ed6cb71e116f197da7281b776_cgraph.png" border="0" usemap="#group__extern_ga01a45a4ed6cb71e116f197da7281b776_cgraph" alt=""/></div>
<map name="group__extern_ga01a45a4ed6cb71e116f197da7281b776_cgraph" id="group__extern_ga01a45a4ed6cb71e116f197da7281b776_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="203,31,269,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="319,5,422,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="318,56,423,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="472,56,611,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0ed762854eef663c3d5290aa65765db0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_restart_ms </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32 *&#160;</td>
          <td class="paramname"><em>restart_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_restart_ms - get the current interval of auto restarting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">restart_ms</td><td>pointer to store the value.</td></tr>
  </table>
  </dd>
</dl>
<p>This one stores the current interval of auto restarting into the given pointer.</p>
<p>The socketcan framework can automatically restart a device if it is in bus_off in a given interval. This function gets this value in milliseconds. restart_ms == 0 means that autorestarting is turned off.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p>Referenced by <a class="el" href="group__extern.html#gacdaa257a1dce981110d540b52e025b2d">can_do_restart()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga0ed762854eef663c3d5290aa65765db0_cgraph.png" border="0" usemap="#group__extern_ga0ed762854eef663c3d5290aa65765db0_cgraph" alt=""/></div>
<map name="group__extern_ga0ed762854eef663c3d5290aa65765db0_cgraph" id="group__extern_ga0ed762854eef663c3d5290aa65765db0_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="192,31,259,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="309,5,411,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="307,56,413,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="461,56,600,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga0ed762854eef663c3d5290aa65765db0_icgraph.png" border="0" usemap="#group__extern_ga0ed762854eef663c3d5290aa65765db0_icgraph" alt=""/></div>
<map name="group__extern_ga0ed762854eef663c3d5290aa65765db0_icgraph" id="group__extern_ga0ed762854eef663c3d5290aa65765db0_icgraph">
<area shape="rect" id="node2" href="group__extern.html#gacdaa257a1dce981110d540b52e025b2d" title="can_do_restart &#45; restart the can interface " alt="" coords="193,5,301,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga32407a51b0e639077518a2c2ee08e0e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_get_state </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_get_state - get the current state of the device </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">state</td><td>pointer to store the state</td></tr>
  </table>
  </dd>
</dl>
<p>This one stores the current state of the can interface into the given pointer. Valid states are:</p>
<ul>
<li>CAN_STATE_ERROR_ACTIVE</li>
<li>CAN_STATE_ERROR_WARNING</li>
<li>CAN_STATE_ERROR_PASSIVE</li>
<li>CAN_STATE_BUS_OFF</li>
<li>CAN_STATE_STOPPED</li>
<li>CAN_STATE_SLEEPING</li>
</ul>
<p>The first four states is determined by the value of RX/TX error counter. Please see relevant can specification for more information about this. A device in STATE_STOPPED is an inactive device. STATE_SLEEPING is not implemented on all devices.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8">get_link()</a>.</p>

<p>Referenced by <a class="el" href="group__extern.html#gacdaa257a1dce981110d540b52e025b2d">can_do_restart()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga32407a51b0e639077518a2c2ee08e0e3_cgraph.png" border="0" usemap="#group__extern_ga32407a51b0e639077518a2c2ee08e0e3_cgraph" alt=""/></div>
<map name="group__extern_ga32407a51b0e639077518a2c2ee08e0e3_cgraph" id="group__extern_ga32407a51b0e639077518a2c2ee08e0e3_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga3ff496242b6fc2a59158345a1a2dc4c8" title="get_link &#45; get linkinfo " alt="" coords="157,31,224,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="274,5,377,32"/><area shape="rect" id="node4" href="group__intern.html#gaba8e592ddb074f5d1e64bbcfa235b422" title="do_get_nl_link &#45; get linkinfo " alt="" coords="273,56,378,83"/><area shape="rect" id="node5" href="group__intern.html#gac17a86cc1ab28d782f18090082268ee5" title="send_dump_request &#45; send a dump linkinfo request " alt="" coords="427,56,565,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga32407a51b0e639077518a2c2ee08e0e3_icgraph.png" border="0" usemap="#group__extern_ga32407a51b0e639077518a2c2ee08e0e3_icgraph" alt=""/></div>
<map name="group__extern_ga32407a51b0e639077518a2c2ee08e0e3_icgraph" id="group__extern_ga32407a51b0e639077518a2c2ee08e0e3_icgraph">
<area shape="rect" id="node2" href="group__extern.html#gacdaa257a1dce981110d540b52e025b2d" title="can_do_restart &#45; restart the can interface " alt="" coords="158,5,266,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf69a4a0d7424e5a61d60991295f50559"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_set_bitrate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>bitrate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_set_bitrate - setup the bitrate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">bitrate</td><td>bitrate of the can bus</td></tr>
  </table>
  </dd>
</dl>
<p>This is the recommended way to setup the bus bit timing. You only have to give a bitrate value here. The exact bit timing will be calculated automatically. To use this function, make sure that CONFIG_CAN_CALC_BITTIMING is set to y in your kernel configuration. bitrate can be a value between 1000(1kbit/s) and 1000000(1000kbit/s).</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__extern.html#gaa01e52bcb6f4b873da7ce32cab38332d">can_set_bittiming()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gaf69a4a0d7424e5a61d60991295f50559_cgraph.png" border="0" usemap="#group__extern_gaf69a4a0d7424e5a61d60991295f50559_cgraph" alt=""/></div>
<map name="group__extern_gaf69a4a0d7424e5a61d60991295f50559_cgraph" id="group__extern_gaf69a4a0d7424e5a61d60991295f50559_cgraph">
<area shape="rect" id="node2" href="group__extern.html#gaa01e52bcb6f4b873da7ce32cab38332d" title="can_set_bittiming &#45; setup the bittiming. " alt="" coords="166,31,290,57"/><area shape="rect" id="node3" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="339,31,405,57"/><area shape="rect" id="node4" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="455,5,558,32"/><area shape="rect" id="node5" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="454,56,559,83"/><area shape="rect" id="node6" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="609,56,741,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0b9e6fbcb49ce3a95c83da86b3252049"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_set_bitrate_samplepoint </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>bitrate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>sample_point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_set_bitrate_samplepoint - setup the bitrate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">bitrate</td><td>bitrate of the can bus </td></tr>
    <tr><td class="paramname">sample_point</td><td>sample point value</td></tr>
  </table>
  </dd>
</dl>
<p>This one is similar to can_set_bitrate, only you can additionally set up the time point for sampling (sample point) customly instead of using the CIA recommended value. sample_point can be a value between 0 and 999.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__extern.html#gaa01e52bcb6f4b873da7ce32cab38332d">can_set_bittiming()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_ga0b9e6fbcb49ce3a95c83da86b3252049_cgraph.png" border="0" usemap="#group__extern_ga0b9e6fbcb49ce3a95c83da86b3252049_cgraph" alt=""/></div>
<map name="group__extern_ga0b9e6fbcb49ce3a95c83da86b3252049_cgraph" id="group__extern_ga0b9e6fbcb49ce3a95c83da86b3252049_cgraph">
<area shape="rect" id="node2" href="group__extern.html#gaa01e52bcb6f4b873da7ce32cab38332d" title="can_set_bittiming &#45; setup the bittiming. " alt="" coords="243,31,367,57"/><area shape="rect" id="node3" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="416,31,483,57"/><area shape="rect" id="node4" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="533,5,635,32"/><area shape="rect" id="node5" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="531,56,637,83"/><area shape="rect" id="node6" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="686,56,818,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa01e52bcb6f4b873da7ce32cab38332d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_set_bittiming </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__bittiming.html">can_bittiming</a> *&#160;</td>
          <td class="paramname"><em>bt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_set_bittiming - setup the bittiming. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">bt</td><td>pointer to a <a class="el" href="structcan__bittiming.html">can_bittiming</a> struct</td></tr>
  </table>
  </dd>
</dl>
<p>This sets the bittiming of the can device. This is for advantage usage. In normal cases you should use can_set_bitrate to simply define the bitrate and let the driver automatically calculate the bittiming. You will only need this function if you wish to define the bittiming in expert mode with fully manually defined timing values. You have to define the bittiming struct yourself. a <a class="el" href="structcan__bittiming.html">can_bittiming</a> struct consists of:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structcan__bittiming.html">can_bittiming</a> {</div>
<div class="line">     __u32 bitrate;</div>
<div class="line">     __u32 sample_point;</div>
<div class="line">     __u32 tq;</div>
<div class="line">     __u32 prop_seg;</div>
<div class="line">     __u32 phase_seg1;</div>
<div class="line">     __u32 phase_seg2;</div>
<div class="line">     __u32 sjw;</div>
<div class="line">     __u32 brp;</div>
<div class="line">}</div>
</div><!-- fragment --><p>to define a customized bittiming, you have to define tq, prop_seq, phase_seg1, phase_seg2 and sjw. See <a href="http://www.can-cia.org/index.php?id=88">http://www.can-cia.org/index.php?id=88</a> for more information about bittiming and synchronizations on can bus.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54">set_link()</a>.</p>

<p>Referenced by <a class="el" href="group__extern.html#gaf69a4a0d7424e5a61d60991295f50559">can_set_bitrate()</a>, and <a class="el" href="group__extern.html#ga0b9e6fbcb49ce3a95c83da86b3252049">can_set_bitrate_samplepoint()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_cgraph.png" border="0" usemap="#group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_cgraph" alt=""/></div>
<map name="group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_cgraph" id="group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="179,31,245,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="295,5,398,32"/><area shape="rect" id="node4" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="294,56,399,83"/><area shape="rect" id="node5" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="449,56,581,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_icgraph.png" border="0" usemap="#group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_icgraph" alt=""/></div>
<map name="group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_icgraph" id="group__extern_gaa01e52bcb6f4b873da7ce32cab38332d_icgraph">
<area shape="rect" id="node2" href="group__extern.html#gaf69a4a0d7424e5a61d60991295f50559" title="can_set_bitrate &#45; setup the bitrate. " alt="" coords="218,5,329,32"/><area shape="rect" id="node3" href="group__extern.html#ga0b9e6fbcb49ce3a95c83da86b3252049" title="can_set_bitrate_samplepoint &#45; setup the bitrate. " alt="" coords="179,56,367,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae089ba74196f286b625652c58673029d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_set_ctrlmode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structcan__ctrlmode.html">can_ctrlmode</a> *&#160;</td>
          <td class="paramname"><em>cm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_set_ctrlmode - setup the control mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0"</td></tr>
    <tr><td class="paramname">cm</td><td>pointer of a <a class="el" href="structcan__ctrlmode.html">can_ctrlmode</a> struct</td></tr>
  </table>
  </dd>
</dl>
<p>This sets the control mode of the can device. There are currently the following modes available (each mapped to its own macro):</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define CAN_CTRLMODE_LOOPBACK           0x01    // Loopback mode</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CAN_CTRLMODE_LISTENONLY         0x02    // Listen-only mode</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CAN_CTRLMODE_3_SAMPLES          0x04    // Triple sampling mode</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CAN_CTRLMODE_ONE_SHOT           0x08    // One-Shot mode</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CAN_CTRLMODE_BERR_REPORTING     0x10    // Bus-error reporting</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define CAN_CTRLMODE_FD                 0x20    // CAN FD mode</span></div>
<div class="line"><span class="preprocessor">#define CAN_CTRLMODE_PRESUME_ACK        0x40    // Ignore missing CAN ACKs</span></div>
</div><!-- fragment --><p>You have to define the control mode struct yourself. A <a class="el" href="structcan__ctrlmode.html">can_ctrlmode</a> struct is declared as:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structcan__ctrlmode.html">can_ctrlmode</a> {</div>
<div class="line">     __u32 mask;</div>
<div class="line">     __u32 flags;</div>
<div class="line">}</div>
</div><!-- fragment --><p>You can use mask to select modes you want to control and flags to determine if you want to turn the selected mode(s) on or off. E. g. the following pseudocode will turn the loopback mode on and listenonly mode off:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structcan__ctrlmode.html">can_ctrlmode</a> cm;</div>
<div class="line">memset(&amp;cm, 0, <span class="keyword">sizeof</span>(cm));</div>
<div class="line">cm.mask = CAN_CTRLMODE_LOOPBACK | CAN_CTRLMODE_LISTENONLY;</div>
<div class="line">cm.flags = CAN_CTRLMODE_LOOPBACK;</div>
<div class="line"><a class="code" href="group__extern.html#gae089ba74196f286b625652c58673029d">can_set_ctrlmode</a>(candev, &amp;cm);</div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54">set_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gae089ba74196f286b625652c58673029d_cgraph.png" border="0" usemap="#group__extern_gae089ba74196f286b625652c58673029d_cgraph" alt=""/></div>
<map name="group__extern_gae089ba74196f286b625652c58673029d_cgraph" id="group__extern_gae089ba74196f286b625652c58673029d_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="179,31,245,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="295,5,398,32"/><area shape="rect" id="node4" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="294,56,399,83"/><area shape="rect" id="node5" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="449,56,581,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaaa709a2e81582dbc7bbc3f35b5c9bb05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int can_set_restart_ms </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__u32&#160;</td>
          <td class="paramname"><em>restart_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>can_set_restart_ms - set interval of auto restart. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the can device. This is the netdev name, as ifconfig -a shows in your system. usually it contains prefix "can" and the numer of the can line. e.g. "can0" </td></tr>
    <tr><td class="paramname">restart_ms</td><td>interval of auto restart in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<p>This sets how often the device shall automatically restart the interface in case that a bus_off is detected.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if success </dd>
<dd>
-1 if failed </dd></dl>

<p>References <a class="el" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54">set_link()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__extern_gaaa709a2e81582dbc7bbc3f35b5c9bb05_cgraph.png" border="0" usemap="#group__extern_gaaa709a2e81582dbc7bbc3f35b5c9bb05_cgraph" alt=""/></div>
<map name="group__extern_gaaa709a2e81582dbc7bbc3f35b5c9bb05_cgraph" id="group__extern_gaaa709a2e81582dbc7bbc3f35b5c9bb05_cgraph">
<area shape="rect" id="node2" href="group__intern.html#ga1946ba447b350f53076da2a3d113af54" title="set_link &#45; open a netlink socket and setup linkinfo " alt="" coords="192,31,259,57"/><area shape="rect" id="node3" href="group__intern.html#gac82d66f72ac28fbb9a2adbf35a608088" title="open_nl_sock &#45; open a netlink socket " alt="" coords="309,5,411,32"/><area shape="rect" id="node4" href="group__intern.html#ga7ef3b2896003a70bce26863b966b788d" title="do_set_nl_link &#45; setup linkinfo " alt="" coords="307,56,413,83"/><area shape="rect" id="node5" href="group__intern.html#ga1b91cad86ec363cdab22c7da046f18e3" title="send_mod_request &#45; send a linkinfo modification request " alt="" coords="462,56,594,83"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 20 2016 11:55:59 for libsocketcan by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
